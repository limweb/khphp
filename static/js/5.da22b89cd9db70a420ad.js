webpackJsonp([5],{388:function(t,i,e){e(472);var n=e(8)(e(416),e(497),null,null);t.exports=n.exports},416:function(t,i,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0});var a=e(50),o=n(a),s=e(16),l=n(s),r=e(9),c=e(21),d=n(c);i.default={name:"productdetails",mounted:function(){this.lotbyname(this.$route.params.lotid),this.$store.state.currentlot=this.$route.params.lotid,console.log("mount",this.$store.state.currentlot)},methods:(0,l.default)({},(0,r.mapActions)(["lotbyname","delbillbyid","createnewbill"]),{print:function(){window.print()},addbill:function(){var t=JSON.parse((0,o.default)(this.$store.state.app.newbill));t.lotid=this.lot.id,t.lot_name=this.lot.lot_name,t.cate=this.lot.cate,t.action="NEW",t.save=!1,t.isNew=!0,console.log("addbile in lot",t,this.lot),this.createnewbill(t),this.$router.push("/addrcproduct")},removebill:function(t,i){var e=this;console.log("index=",t,"billid=",i),d.default.confirm({message:"ต้องการที่จะลบ บิลรายการนี้หรือไม่ ?!",size:"small",callback:function(t){t&&(console.log("remove bill",i,t),e.delbillbyid(i))}})},editbill:function(t,i){console.log("editbill--",i,this.lot);var e=JSON.parse((0,o.default)(i));e.action="edit",e.save=!1,e.isNew=!0,e.lot_id=this.lot.id,e.cate=this.lot.cate,e.lot_name=this.lot.lot_name,e.date=i.created_date,this.createnewbill(e),this.$router.push("/addrcproduct")}}),computed:(0,l.default)({},(0,r.mapState)(["lot"]),{billength:function(){return void 0!=this.lot.bills.length?this.lot.bills.length:1},chklot:function(){return void 0!=this.lot?1:0},scrheight:function(){return window.screen.height?window.screen.height:450}})}},451:function(t,i,e){i=t.exports=e(381)(!0),i.push([t.i,"*{font-size:15px!important}.content{min-height:450px;height:100%!important}@page{margin:30 auto}@media print{*{font-size:14px!important;height:auto}.noprint{display:none}.print{margin:30 auto;display:block;overflow:hidden;height:auto}.content-wrapper{height:100%!important;overflow:hidden}.content,.wrapper{overflow:hidden}.content{height:100%!important;height:auto}}","",{version:3,sources:["c:/works/kuiyu/kuihuad/src/components/modules/products/Productlotdetails.vue"],names:[],mappings:"AACA,EACI,wBAA0B,CAC7B,AACD,SACI,iBAAiB,AACjB,qBAAuB,CAC1B,AACD,MACE,cAAgB,CACjB,AACD,aACA,EACK,yBAAyB,AACxB,WAAa,CAClB,AACD,SACO,YAAc,CACpB,AACD,OACI,eAAgB,AAChB,cAAe,AACf,gBAAiB,AACjB,WAAa,CAChB,AACD,iBACI,sBAAuB,AACvB,eAAiB,CACpB,AAID,kBAFI,eAAiB,CAMpB,AAJD,SACG,sBAAuB,AAEvB,WAAa,CACf,CACA",file:"Productlotdetails.vue",sourcesContent:["\n* {\n    font-size:15px !important;\n}\n.content {\n    min-height:450px;\n    height: 100%!important;\n}\n@page{\n  margin: 30 auto;\n}\n@media print {\n* {\n     font-size:14px!important; \n      height: auto;\n}\n.noprint {\n       display: none;\n}\n.print {\n    margin: 30 auto;\n    display: block; \n    overflow: hidden;\n    height: auto;\n}\n.content-wrapper {\n    height: 100%!important; \n    overflow: hidden;\n}\n.wrapper {\n    overflow: hidden;\n}\n.content {\n   height: 100%!important; \n   overflow: hidden;\n   height: auto;\n}\n}\n"],sourceRoot:""}])},472:function(t,i,e){var n=e(451);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e(382)("51f95c4c",n,!0)},497:function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"content-wrapper"},[e("section",{staticClass:"content-header"},[e("h1",[t._v("รายละเอียด Lot ที่: "),e("small",[t._v(t._s(t.$route.params.lotid))])]),t._v(" "),e("ol",{staticClass:"breadcrumb"},[e("li",[e("router-link",{staticClass:"button",attrs:{to:"/home"}},[e("i",{staticClass:"fa fa-dashboard"}),t._v(" Home")])],1),t._v(" "),e("li",[e("router-link",{staticClass:"button",attrs:{to:"/rcproduct"}},[t._v(" Product lots")])],1),t._v(" "),e("li",{staticClass:"active"},[t._v("lotdetails")])])]),t._v(" "),e("section",{staticClass:"content print",staticStyle:{"min-height":"450px"}},[t.chklot?e("div",[e("div",{staticClass:"box box-widget "},[e("div",{staticClass:"box-header with-border noprint"},[e("div",{staticClass:"user-block noprint"},[e("h3",{staticClass:"box-title noprint"},[t._v("รายละเอียด การรับสินค้า "+t._s(t.lot.id)+"/"+t._s(t.lot.lot_name))]),t._v(" "),e("button",{staticClass:"btn btn-primary noprint",staticStyle:{width:"90px",float:"right"},attrs:{type:"button"},on:{click:t.addbill}},[t._v("Add Bill")]),t._v(" "),e("button",{staticClass:"btn btn-primary noprint",staticStyle:{width:"90px",float:"right","margin-right":"10px"},attrs:{type:"button"},on:{click:t.print}},[t._v("Print")])]),t._v(" "),t._m(0)]),t._v(" "),e("div",{staticClass:"box-body print"},[e("table",{staticClass:"table table-bordered table-striped "},[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"},attrs:{colspan:"4"}},[e("span",[t._v("รายละเอียด การรับสินค้า "+t._s(t.lot.id)+" / "+t._s(t.lot.lot_name)+" Total: "+t._s(Number(t.lot.total).toLocaleString("th-TH",{minimumFractionDigits:2}))+" "),e("b",[t._v("฿")]),t._v(" จำนวนบิล"+t._s(t.billength)+" ใบ ")])])]),t._v(" "),t._m(1)]),t._v(" "),e("tbody",t._l(t.lot.summary,function(i,n){return e("tr",[e("td",[t._v(t._s(i.product_code))]),t._v(" "),e("td",[t._v(t._s(i.name))]),t._v(" "),e("td",{attrs:{align:"right"}},[t._v(t._s(Number(i.qty).toLocaleString("th-TH",{minimumFractionDigits:2})))]),t._v(" "),e("td",{attrs:{align:"right"}},[t._v(t._s(Number(i.avg).toLocaleString("th-TH",{minimumFractionDigits:2})))])])}))]),t._v(" "),e("br"),t._v(" "),e("table",{staticClass:"table table-bordered table-striped"},[t._m(2),t._v(" "),e("tbody",t._l(t.lot.sumbycat,function(i){return e("tr",[e("td",[t._v(t._s(i.name))]),t._v(" "),e("td",{staticStyle:{"text-align":"right",width:"160px"}},[t._v(t._s(Number(i.qty).toLocaleString("th-TH",{minimumFractionDigits:2})))]),t._v(" "),e("td",{staticStyle:{"text-align":"right",width:"160px"}},[t._v(t._s(Number(i.avg).toLocaleString("th-TH",{minimumFractionDigits:2})))])])}))]),t._v(" "),e("br"),t._v(" "),e("table",{staticClass:"table table-bordered table-striped"},[t._m(3),t._v(" "),e("tbody",t._l(t.lot.bills,function(i,n){return e("tr",[e("td",{staticStyle:{width:"20px"}},[t._v(t._s(n+1))]),t._v(" "),e("td",{staticStyle:{width:"60px"}},[t._v(t._s(i.id))]),t._v(" "),e("td",[t._v(t._s(i.name))]),t._v(" "),e("td",{staticStyle:{"text-align":"right"},attrs:{align:"right"}},[t._v(t._s(Number(i.qty).toLocaleString("th-TH",{minimumFractionDigits:2})))]),t._v(" "),e("td",{staticStyle:{"text-align":"right"},attrs:{align:"right"}},[t._v(t._s(Number(i.total).toLocaleString("th-TH",{minimumFractionDigits:2})))])])})),t._v(" "),e("br"),t._v(" "),e("tfoot",[e("tr",{staticStyle:{"background-color":"#707bea",color:"aliceblue"}},[e("td",{attrs:{colspan:"3"}},[e("b",[t._v("เฉลี่ย รวม ")])]),t._v(" "),e("th",{staticStyle:{"text-align":"right"}},[t._v(t._s(Number(t.lot.sumx[0].qty).toLocaleString("th-TH",{minimumFractionDigits:2})))]),t._v(" "),e("th",{staticStyle:{"text-align":"right"}},[t._v(t._s(Number(t.lot.sumx[0].avg).toLocaleString("th-TH",{minimumFractionDigits:2})))])])])],1)])]),t._v(" "),t._l(t.lot.bills,function(i,n){return e("div",{staticClass:"box box-widget noprint"},[e("div",{staticClass:"box-header with-border"},[e("div",{staticClass:"user-block"},[e("span",{staticClass:"username"},[t._v("No:"+t._s(n+1)+" บิลเลขที่ :"+t._s(i.id)+" ")]),t._v(" "),e("span",{staticClass:"description"},[t._v("Name :"+t._s(i.name))])]),t._v(" "),e("div",{staticClass:"box-tools"},[e("button",{staticClass:"btn btn-warning btn-xs",attrs:{title:"edit bill"},on:{click:function(e){t.editbill(n,i)}}},[e("span",{staticClass:"glyphicon glyphicon-edit"})]),t._v(" "),e("button",{staticClass:"btn btn-danger btn-xs",attrs:{title:"Remove Bill"},on:{click:function(e){t.removebill(n,i.id)}}},[e("span",{staticClass:"glyphicon glyphicon-trash"})]),t._v(" "),t._m(4,!0)])]),t._v(" "),e("div",{staticClass:"box-body"},[e("table",{staticClass:"table table-bordered table-striped"},[t._m(5,!0),t._v(" "),e("tbody",t._l(i.billdetails,function(i,n){return e("tr",[e("td",[t._v(t._s(n+1))]),t._v(" "),e("td",[t._v(t._s(i.name))]),t._v(" "),e("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(Number(i.qty).toLocaleString("th-TH",{minimumFractionDigits:2})))]),t._v(" "),e("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(Number(i.price).toLocaleString("th-TH",{minimumFractionDigits:2})))]),t._v(" "),e("td",{staticStyle:{"text-align":"right"}},[t._v(t._s((i.qty*i.price).toLocaleString("th-TH",{minimumFractionDigits:2})))])])})),t._v(" "),e("tfoot",[e("tr",{staticStyle:{"background-color":"#237530",color:"aliceblue"}},[e("th",[t._v("Status ")]),t._v(" "),e("th",[t._v(" ")]),t._v(" "),e("th",[t._v(t._s(Number(i.qty).toLocaleString("th-TH",{minimumFractionDigits:2})))]),t._v(" "),e("th",[t._v(" ")]),t._v(" "),e("th",[t._v(t._s(Number(i.total).toLocaleString("th-TH",{minimumFractionDigits:2})))])])])],1)]),t._v(" "),e("div",{staticClass:"box-footer"},[t._v("\n             \n          ")])])})],2):e("div",[e("h2",[t._v("ยังไม่รายการสำหรับ Lot นี้ ")])])])])},staticRenderFns:[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"box-tools noprint"},[e("button",{staticClass:"btn btn-box-tool",attrs:{type:"button","data-widget":"collapse"}},[e("i",{staticClass:"fa fa-minus"})])])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("tr",{staticStyle:{"background-color":"#ea5b0b"}},[e("th",{staticStyle:{width:"160px"}},[t._v("รหัส")]),t._v(" "),e("th",[t._v("แยกตามชนิดผลไม้")]),t._v(" "),e("th",{staticStyle:{"text-align":"right",width:"160px"}},[t._v(" จำนวน (kg) ")]),t._v(" "),e("th",{staticStyle:{"text-align":"right",width:"160px"}},[t._v(" เฉลี่ยน/Kg ")])])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("thead",[e("tr",{staticStyle:{"background-color":"aquamarine"}},[e("th",[t._v("แยกตาม ประเภทของผลไม้")]),t._v(" "),e("th",{staticStyle:{"text-align":"right",width:"160px"}},[t._v(" จำนวน (kg) ")]),t._v(" "),e("th",{staticStyle:{"text-align":"right",width:"160px"}},[t._v(" เฉลี่ยน/Kg ")])])])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("thead",[e("tr",{staticStyle:{"background-color":"#ea5b0b"}},[e("th",{staticStyle:{width:"20px"}},[t._v("No.")]),t._v(" "),e("th",{staticStyle:{width:"80px"}},[t._v("Bill No.")]),t._v(" "),e("th",[t._v("ผู้ขาย")]),t._v(" "),e("th",{staticStyle:{"text-align":"right",width:"160px"}},[t._v(" จำนวน (kg) ")]),t._v(" "),e("th",{staticStyle:{"text-align":"right",width:"160px"}},[t._v(" จำนวนเงิน (บาท) ")])])])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("button",{staticClass:"btn btn-box-tool",attrs:{type:"button","data-widget":"collapse"}},[e("i",{staticClass:"fa fa-minus"})])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("thead",[e("tr",[e("th",[t._v("Id")]),t._v(" "),e("th",[t._v("ผลไม้")]),t._v(" "),e("th",[t._v("จำนวน (kg)")]),t._v(" "),e("th",[t._v("ราคา รับซื้อ")]),t._v(" "),e("th",[t._v("จำนวนเงิน")])])])}]}}});
//# sourceMappingURL=5.da22b89cd9db70a420ad.js.map